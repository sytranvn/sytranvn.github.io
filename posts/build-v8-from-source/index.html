<!doctype html><html lang=en>
<head>
<title>
Build v8 from source on Ubuntu 20.04 · sytranvn.dev
</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=color-scheme content="light dark">
<meta name=author content="Sy Tran">
<meta name=description content="Have you ever asked what does V8 do? Here&rsquo;s how to build a V8 of your own from source code. See what it can do and even have fun with it.
Required  Link to heading    bash shell git  I set up the V8 source code inside ~/Code/ folder and use it throughout this article. You can change it to your desired folder.
Prepare the tools and source code  Link to heading   We need to get the depot tools bundle from google.">
<meta name=keywords content="blog,developer,personal">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Build v8 from source on Ubuntu 20.04">
<meta name=twitter:description content="Have you ever asked what does V8 do? Here&rsquo;s how to build a V8 of your own from source code. See what it can do and even have fun with it.
Required  Link to heading    bash shell git  I set up the V8 source code inside ~/Code/ folder and use it throughout this article. You can change it to your desired folder.
Prepare the tools and source code  Link to heading   We need to get the depot tools bundle from google.">
<meta property="og:title" content="Build v8 from source on Ubuntu 20.04">
<meta property="og:description" content="Have you ever asked what does V8 do? Here&rsquo;s how to build a V8 of your own from source code. See what it can do and even have fun with it.
Required  Link to heading    bash shell git  I set up the V8 source code inside ~/Code/ folder and use it throughout this article. You can change it to your desired folder.
Prepare the tools and source code  Link to heading   We need to get the depot tools bundle from google.">
<meta property="og:type" content="article">
<meta property="og:url" content="http://sytranvn.dev/posts/build-v8-from-source/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-02-20T00:00:00+00:00">
<meta property="article:modified_time" content="2021-02-20T00:00:00+00:00">
<meta property="og:see_also" content="http://sytranvn.dev/posts/debug-v8-part-2/"><meta property="og:see_also" content="http://sytranvn.dev/posts/debug-v8-part-1/"><meta property="og:see_also" content="http://sytranvn.dev/posts/token/"><meta property="og:see_also" content="http://sytranvn.dev/posts/build-v8-from-source-on-apple-m1/"><meta property="og:see_also" content="http://sytranvn.dev/posts/v8-adventure/">
<link rel=canonical href=http://sytranvn.dev/posts/build-v8-from-source/>
<link rel=preload href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin>
<link rel=stylesheet href=/css/coder.min.85656f585fe601450b123ec7c9a997f8488faf7f9e2c81913580c9e2f8c72f82.css integrity="sha256-hWVvWF/mAUULEj7HyamX+EiPr3+eLIGRNYDJ4vjHL4I=" crossorigin=anonymous media=screen>
<link rel=stylesheet href=/css/coder-dark.min.75de71d89fefe379cc001b6f6435f9b06dad86408428254718b48a73ea6d9e5e.css integrity="sha256-dd5x2J/v43nMABtvZDX5sG2thkCEKCVHGLSKc+ptnl4=" crossorigin=anonymous media=screen>
<link rel=stylesheet href=/css/custom.min.ca5f874b88e4c402f234bf2bf910a86f104289167117a551cbdc8d6d7642cf60.css integrity="sha256-yl+HS4jkxALyNL8r+RCobxBCiRZxF6VRy9yNbXZCz2A=" crossorigin=anonymous media=screen>
<link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16>
<link rel=apple-touch-icon href=/images/apple-touch-icon.png>
<link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png>
<link rel=manifest href=/site.webmanifest>
<link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5>
</head>
<body class="preload-transitions colorscheme-dark">
<main class=wrapper>
<nav class=navigation>
<section class=container>
<a class=navigation-title href=/>
sytranvn.dev
</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle>
<i class="fa fa-bars fa-fw" aria-hidden=true></i>
</label>
<ul class=navigation-list>
<li class=navigation-item>
<a class=navigation-link href=/now/>Now</a>
</li>
<li class=navigation-item>
<a class=navigation-link href=/posts/>Blog</a>
</li>
<li class=navigation-item>
<a class=navigation-link href=/projects/>Projects</a>
</li>
<li class=navigation-item>
<a class=navigation-link href=/accomplishments/>Accomplishments</a>
</li>
<li class=navigation-item>
<a class=navigation-link href=/resume.pdf>Resume</a>
</li>
</ul>
</section>
</nav>
<div class=content>
<section class="container post">
<article>
<header>
<div class=post-title>
<h1 class=title>
<a class=title-link href=http://sytranvn.dev/posts/build-v8-from-source/>
Build v8 from source on Ubuntu 20.04
</a>
</h1>
</div>
<div class=post-meta>
<div class=date>
<span class=posted-on>
<i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2021-02-20T00:00:00Z>
February 20, 2021
</time>
</span>
<span class=reading-time>
<i class="fa fa-clock-o" aria-hidden=true></i>
2-minute read
</span>
</div>
<div class=categories>
<i class="fa fa-folder" aria-hidden=true></i>
<a href=/categories/v8/>v8</a></div>
<div class=tags>
<i class="fa fa-tag" aria-hidden=true></i>
<span class=tag>
<a href=/tags/v8/>v8</a>
</span>
<span class=separator>•</span>
<span class=tag>
<a href=/tags/cpp/>cpp</a>
</span></div>
</div>
</header>
<div class=post-content>
<p>Have you ever asked what does V8 do? Here&rsquo;s how to build a V8 of your own from source code. See what it can do and even have fun with it.</p>
<h2 id=required>
Required
<a class=heading-link href=#required>
<i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span>
</a>
</h2>
<ul>
<li>bash shell</li>
<li>git</li>
</ul>
<p>I set up the V8 source code inside <code>~/Code/</code> folder and use it throughout this article. You can change it to your desired folder.</p>
<h2 id=prepare-the-tools-and-source-code>
Prepare the tools and source code
<a class=heading-link href=#prepare-the-tools-and-source-code>
<i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span>
</a>
</h2>
<p>We need to get the depot tools bundle from google. It&rsquo;s a package of scripts, to automate tasks to manage repositories <a href=http://www.chromium.org/developers/how-tos/install-depot-tools class=external-link target=_blank rel=noopener>http://www.chromium.org/developers/how-tos/install-depot-tools</a></p>
<div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>git clone https://chromium.googlesource.com/chromium/tools/depot_tools.git
<span style=color:#fff;font-weight:700>export</span> PATH=$PWD/depot_tools:$PATH
fetch v8
</code></pre></div><p>You should see new directories for <code>depot_tools</code> and <code>v8</code> in current working dir.</p>
<div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>tree -L <span style=color:#ff0;font-weight:700>1</span> -h                                                                                     02:34:57
.
├── [7.3K]  depot_tools
└── [2.0K]  v8

<span style=color:#ff0;font-weight:700>2</span> directories, <span style=color:#ff0;font-weight:700>0</span> files
</code></pre></div><h2 id=install-dependencies>
Install dependencies
<a class=heading-link href=#install-dependencies>
<i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span>
</a>
</h2>
<div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#fff;font-weight:700>cd</span> v8
<span style=color:#fff;font-weight:700>export</span> PATH=$PWD/tools/dev:$PATH
</code></pre></div><ul>
<li>This will help run build commands quicker.</li>
<li>Run magic script to install everything needed <code>./build/install-build-deps.sh</code> (you have to provide sudo password)</li>
<li>Try <code>gm.py x64.release</code> to see if it start building. Note: your python must be version <code>2.x.x</code>. If not, try switch python version using pyenv or any python version management tool. Otherwise you can run <code>python2 tools/dev/gm.py x64.release</code> instead.</li>
<li>After a couple minutes, check the <code>out/x64.release</code> folder to see the result.</li>
</ul>
<h2 id=play-with-v8>
Play with V8
<a class=heading-link href=#play-with-v8>
<i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span>
</a>
</h2>
<p>After building the source code, you will be able to use <code>d8</code>. V8&rsquo;s own developer shell.</p>
<div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>$ ./out/x64.release/d8   
V8 version 9.0.0 (candidate)
</code></pre></div><p>Try writing some Javascripts, eg:</p>
<div class=highlight><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js>d8&gt; console.log(<span style=color:#0ff;font-weight:700>&#39;Hello V8!&#39;</span>)
Hello V8!
<span style=color:#fff;font-weight:700>undefined</span>
d8&gt; <span style=color:#fff;font-weight:700>for</span> (<span style=color:#fff;font-weight:700>let</span> i = <span style=color:#ff0;font-weight:700>0</span>; i &lt; <span style=color:#ff0;font-weight:700>5</span>; i++) console.log(i)
<span style=color:#ff0;font-weight:700>0</span>
<span style=color:#ff0;font-weight:700>1</span>
<span style=color:#ff0;font-weight:700>2</span>
<span style=color:#ff0;font-weight:700>3</span>
<span style=color:#ff0;font-weight:700>4</span>
<span style=color:#fff;font-weight:700>undefined</span>
d8&gt; 
</code></pre></div><h2 id=whats-next>
What&rsquo;s next?
<a class=heading-link href=#whats-next>
<i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span>
</a>
</h2>
<p>You now have all the control over the engine. You can modify the source code, build and test it using <code>d8</code>.</p>
<p>Goodluck have fun!</p>
</div>
<footer>
<section class=see-also>
<h3 id=see-also-in-v8-adventure>
See also in V8 adventure
<a class=heading-link href=#see-also-in-v8-adventure>
<i class="fa fa-link" aria-hidden=true title="Link to heading"></i>
<span class=sr-only>Link to heading</span>
</a>
</h3>
<nav>
<ul>
<li>
<a href=/posts/debug-v8-part-2/>Debug V8 part 2</a>
</li>
<li>
<a href=/posts/debug-v8-part-1/>Debug V8 part 1</a>
</li>
<li>
<a href=/posts/token/>Token</a>
</li>
<li>
<a href=/posts/build-v8-from-source-on-apple-m1/>Build v8 from source on Apple M1</a>
</li>
<li>
<a href=/posts/v8-adventure/>V8 adventure</a>
</li>
</ul>
</nav>
</section>
<div class=comments>
<script>let getTheme=window.localStorage&&window.localStorage.getItem("colorscheme");getTheme=getTheme==null?'preferred-color-scheme':getTheme;let theme=getTheme==='dark'?'github-dark':'github-light',s=document.createElement('script');s.src='https://utteranc.es/client.js',s.setAttribute('repo','sytranvn/sytranvn.lounge'),s.setAttribute('issue-term','title'),s.setAttribute('theme',theme),s.setAttribute('crossorigin','anonymous'),s.setAttribute('async',''),document.querySelector('div.comments').innerHTML='',document.querySelector('div.comments').appendChild(s)</script>
</div>
</footer>
</article>
</section>
</div>
<footer class=footer>
<section class=container>
©
2022 -
2023
Sy Tran
·
Licensed under <a rel=license href=http://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA-4.0</a>
·
Powered by <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.
</section>
</footer>
<script data-name=BMC-Widget data-cfasync=false src=https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js data-id=sytranvn data-description="Support me on Buy me a coffee!" data-message="Thank you for visiting ❤️ . You can now buy me a conffe." data-color=#ff813f data-position=Right data-x_margin=18 data-y_margin=18></script>
</main>
<script src=/js/coder.min.369d90111ae4409b4e51de5efd23a46b92663fcc82dc9a0efde7f70bffc3f949.js integrity="sha256-Np2QERrkQJtOUd5e/SOka5JmP8yC3JoO/ef3C//D+Uk="></script>
</body>
</html>