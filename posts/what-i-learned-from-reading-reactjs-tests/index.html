<!doctype html><html lang=en><head><title>What I learned from reading reactjs tests · sytranvn.dev</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Sy Tran"><meta name=description content="First of all, I think React DOM is one of the most interesting part in React code base. I&rsquo;m not sure if it is correct but whatever, stop thinking and start diving.
This is the React-DOM test file at the time I&rsquo;m writing this post. If you find latest version is different from what mentioned in this post please feel free to make a PR.

ReactDOM

should bubble onSubmit
So we can listen an onsubmit event on a div. That&rsquo;s crazy right? Most of the time we only listen this event on a form but in fact any tag can listen to this event if it has a form children.
should overwrite props.children with children argument
So for example if we have <Component children={'real'}>fake</Component>. We will get fake as result.
throws in render() if the update callback is not a function
ReactDOM.render supports an optional callback parameters to be called after component is mounted into container. I look for actual implementation and find it callback fiberRoot instance as this. So you can console.log(this.nodeName)


ReactMount

should unmount and remount if the key changes
I have known this beavior of React key before, but it&rsquo;s interesting to see it actually documented in the test.



"><meta name=keywords content="blog,developer,personal,sy tran,Tran Dung Sy,software engineer,ai engineer"><meta name=twitter:card content="summary"><meta name=twitter:title content="What I learned from reading reactjs tests"><meta name=twitter:description content="First of all, I think React DOM is one of the most interesting part in React code base. I’m not sure if it is correct but whatever, stop thinking and start diving.
This is the React-DOM test file at the time I’m writing this post. If you find latest version is different from what mentioned in this post please feel free to make a PR.
ReactDOM should bubble onSubmit
So we can listen an onsubmit event on a div. That’s crazy right? Most of the time we only listen this event on a form but in fact any tag can listen to this event if it has a form children. should overwrite props.children with children argument
So for example if we have <Component children={'real'}>fake</Component>. We will get fake as result. throws in render() if the update callback is not a function
ReactDOM.render supports an optional callback parameters to be called after component is mounted into container. I look for actual implementation and find it callback fiberRoot instance as this. So you can console.log(this.nodeName) ReactMount should unmount and remount if the key changes
I have known this beavior of React key before, but it’s interesting to see it actually documented in the test."><meta property="og:url" content="https://sytranvn.dev/posts/what-i-learned-from-reading-reactjs-tests/"><meta property="og:site_name" content="sytranvn.dev"><meta property="og:title" content="What I learned from reading reactjs tests"><meta property="og:description" content="First of all, I think React DOM is one of the most interesting part in React code base. I’m not sure if it is correct but whatever, stop thinking and start diving.
This is the React-DOM test file at the time I’m writing this post. If you find latest version is different from what mentioned in this post please feel free to make a PR.
ReactDOM should bubble onSubmit
So we can listen an onsubmit event on a div. That’s crazy right? Most of the time we only listen this event on a form but in fact any tag can listen to this event if it has a form children. should overwrite props.children with children argument
So for example if we have <Component children={'real'}>fake</Component>. We will get fake as result. throws in render() if the update callback is not a function
ReactDOM.render supports an optional callback parameters to be called after component is mounted into container. I look for actual implementation and find it callback fiberRoot instance as this. So you can console.log(this.nodeName) ReactMount should unmount and remount if the key changes
I have known this beavior of React key before, but it’s interesting to see it actually documented in the test."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-04-12T00:00:00+00:00"><meta property="article:modified_time" content="2021-04-12T00:00:00+00:00"><meta property="article:tag" content="Reactjs"><link rel=canonical href=https://sytranvn.dev/posts/what-i-learned-from-reading-reactjs-tests/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.4b392a85107b91dbdabc528edf014a6ab1a30cd44cafcd5325c8efe796794fca.css integrity="sha256-SzkqhRB7kdvavFKO3wFKarGjDNRMr81TJcjv55Z5T8o=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/custom.min.36eb58d02db7d3831e8ec30480fa209ae93627f039c1c577e7fdeece45784a20.css integrity="sha256-NutY0C2304MejsMEgPogmuk2J/A5wcV35/3uzkV4SiA=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://sytranvn.dev/>sytranvn.dev
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/projects/>Projects</a></li><li class=navigation-item><a class=navigation-link href=/i-heart-oss/>I ❤️ OSS</a></li><li class=navigation-item><a class=navigation-link href=/accomplishments/>Accomplishments</a></li><li class=navigation-item><a class=navigation-link href=/resume.pdf>Resume</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class=navigation-item><a href=/vi/>:vn:</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://sytranvn.dev/posts/what-i-learned-from-reading-reactjs-tests/>What I learned from reading reactjs tests</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa-solid fa-calendar" aria-hidden=true></i>
<time datetime=2021-04-12T00:00:00Z>April 12, 2021
</time></span><span class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>
One-minute read</span></div><div class=tags><i class="fa-solid fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/reactjs/>Reactjs</a></span></div></div><script id=diffblog-plugin-script async src=https://diff.blog/static/js/diffblog_plugin_v1.js></script><script>document.getElementById("diffblog-plugin-script").addEventListener("load",function(){DiffBlog("4at5qx7n0j5yhd86rqu6gyotkgn4o17hu8wn6xis54lwd692ez")})</script></header><div class=post-content><p>First of all, I think React DOM is one of the most interesting part in React code base. I&rsquo;m not sure if it is correct but whatever, stop thinking and start diving.</p><p>This is the <a href=https://github.com/facebook/react/blob/9d48779b362ef773da50fef95af6998b560c75c0/packages/react-dom/src/__tests__/ReactDOM-test.js class=external-link target=_blank rel=noopener>React-DOM test file</a> at the time I&rsquo;m writing this post. If you find latest version is different from what mentioned in this post please feel free to make a PR.</p><ul><li><code>ReactDOM</code><ul><li><code>should bubble onSubmit</code><br>So we can listen an <code>onsubmit</code> event on a <code>div</code>. That&rsquo;s crazy right? Most of the time we only listen this event on a <code>form</code> but in fact any tag can listen to this event if it has a form children.</li><li><code>should overwrite props.children with children argument</code><br>So for example if we have <code>&lt;Component children={'real'}>fake&lt;/Component></code>. We will get <code>fake</code> as result.</li><li><code>throws in render() if the update callback is not a function</code><br><code>ReactDOM.render</code> supports an optional <code>callback</code> parameters to be called after component is mounted into container. I look for <a href=https://github.com/facebook/react/blob/dd8552ae0d82afed66fec649ee5c044c69c65e92/packages/react-dom/src/client/ReactDOMLegacy.js#L198-L204 class=external-link target=_blank rel=noopener>actual implementation</a> and find it callback <code>fiberRoot</code> instance as <code>this</code>. So you can <code>console.log(this.nodeName)</code></li></ul></li><li><code>ReactMount</code><ul><li><code>should unmount and remount if the key changes</code><br>I have known this beavior of React key before, but it&rsquo;s interesting to see it actually documented in the test.</li><li></li></ul></li></ul></div><footer></footer></article></section></div><footer class=footer><section class=container>©
2021 -
2026
Sy Tran
·
Powered by <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script></body></html>