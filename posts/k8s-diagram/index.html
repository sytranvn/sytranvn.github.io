<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
K8s Diagram ¬∑ sytranvn.dev
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Sy Tran">
<meta name="description" content="I try to organize my knowledge about K8s and it&#39;s huge!">
<meta name="keywords" content="blog,developer,personal">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="K8s Diagram">
  <meta name="twitter:description" content="I try to organize my knowledge about K8s and it&#39;s huge!">

<meta property="og:url" content="http://localhost:1313/posts/k8s-diagram/">
  <meta property="og:site_name" content="sytranvn.dev">
  <meta property="og:title" content="K8s Diagram">
  <meta property="og:description" content="I try to organize my knowledge about K8s and it&#39;s huge!">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-03-06T17:01:48+07:00">
    <meta property="article:modified_time" content="2025-03-06T17:01:48+07:00">
    <meta property="article:tag" content="K8s">




<link rel="canonical" href="http://localhost:1313/posts/k8s-diagram/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.css" media="screen">
  



 
  
    
    <link rel="stylesheet" href="/css/custom.css" media="screen">
  





<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      sytranvn.dev
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/now/">Now</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/projects/">Projects</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/i-heart-oss/">I ‚ù§Ô∏è OSS</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/accomplishments/">Accomplishments</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/resume.pdf">Resume</a>
            </li>
          
        
        
          
          
          
            
          
            
              
                <li class="navigation-item menu-separator">
                  <span>|</span>
                </li>
                
              
              <li class="navigation-item">
                <a href="/vi/"> üáªüá≥</a>
              </li>
            
          
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
<section class="container post">
  <article>
    <header>
      <div class="post-title">
        <h1 class="title">
          <a class="title-link" href="http://localhost:1313/posts/k8s-diagram/">
            K8s Diagram
          </a>
        </h1>
      </div>
      <div class="post-meta">
        <div class="date">
          <span class="posted-on">
            <i class="fa-solid fa-calendar" aria-hidden="true"></i>
            <time datetime=" 2025-03-06T17:01:48&#43;07:00">
              March 6, 2025
            </time>
          </span>
          <span class="reading-time">
            <i class="fa-solid fa-clock" aria-hidden="true"></i>
            7-minute read
          </span>
        </div>
        
        <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/k8s/">K8s</a></div>

        <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/k8s/">K8s</a>
    </span></div>

      </div>

      <script id="diffblog-plugin-script" async="false" src="https://diff.blog/static/js/diffblog_plugin_v1.js"></script> 
      <script>
              document.getElementById("diffblog-plugin-script").addEventListener("load", function () {
                  DiffBlog(
                      "4at5qx7n0j5yhd86rqu6gyotkgn4o17hu8wn6xis54lwd692ez"
                  );
              });
      </script>
    </header>

    <div class="post-content">
      
      I try to organize my knowledge about K8s and it&#39;s huge!
      
      
      <pre class="mermaid">

---
config:
  class:
    hideEmptyMembersBox: true
  layout: elk
  theme: forest
---
classDiagram
direction LR
    class Cluster {
    }
    class ControlPlane {
    }
    class ControlPlaneNode {
    }
    Node &lt;|-- ControlPlaneNode
    class WorkerNode {
    }
    Node &lt;|-- WorkerNode
    class APIServer {
    }
    class Scheduler {
    }
    class ControllerManager {
    }
    class KeyValueStore {
    }
    class NodeComponent {
    }
    class ContainerRuntime {
    }
    class Kubelet {
    }
    class KubeProxy {
    }
    class AddOn {
    }
    class Logging {
    }
    class Monitoring {
    }
    class NodeAgent {
    }
    class Namespace {
    }
    class Pod {
	    template
    }
    class Container {
	    name: str
	    image: str
	    port: number
    }
    class Label {
	    key
	    value?
    }
    class ReplicaSet {
	    replicas: number
	    template: pod
    }
    class Deployment {
	    replicas: number
	    template: pod
    }
    class Port {
	    port: number
	    targetPort: number
	    protocol: str = TCP
    }
    class AutoScaler {
    }
    class RollingUpdate {
    }
    class DaemonSet {
    }
    class Service {
	    name: str
	    selector: Label[]
	    ports: Port[]
	    type: ServiceType = ClusterIP
    }
    class ServiceType {
    }
    class ClusterIP {
    }
    class NodePort {
    }
    class LoadBalancer {
    }
    class ExternalIP {
    }
    class ExternalName {
    }
    class Object {
    }
    class Node {
    }
    

	&lt;&lt;interface&gt;&gt; NodeComponent
	&lt;&lt;interface&gt;&gt; ServiceType
	&lt;&lt;interface&gt;&gt; Object

	note for ContainerRuntime &#34;eg: Dockerengine, containerd&#34;
	note for KeyValueStore &#34;etcd, can run on node or external etcd cluster&#34;
	note for Service &#34;ports referred to as service endpoints&#34;
	note for ClusterIP &#34;A Service receives a Virtual IP address&lt;br/&gt; accessible only from within the cluster.&#34;
	note for NodePort &#34;A Service includes a ClusterIP and a high-port, &lt;br/&gt; dynamically picked from the default range 30000-32767,&lt;br/&gt; is mapped to the respective Service, from all the worker nodes.&#34;
	note for LoadBalancer &#34;NodePort and ClusterIP are automatically created,&lt;br/&gt; and the external load balancer will route to them&lt;br&gt;The Service is exposed at a static port on each worker node.&lt;br&gt;The Service is exposed externally using the underlying cloud&lt;br&gt;provider&#39;s load balancer feature.&#34;
	note for ExternalIP &#34;A Service can be mapped to an external IP address not managed by K8s&#34;
	note for ExternalName &#34;When accessed within the cluster, &lt;br&gt;it returns a CNAME record of &lt;br&gt;an externally configured Service.&#34;

    AddOn &lt;|-- Logging
    AddOn &lt;|-- Monitoring
    Service &#34;1&#34; --&gt; &#34;1&#34; ServiceType : is
    ServiceType &lt;|-- ClusterIP
    ServiceType &lt;|-- NodePort
    ServiceType &lt;|-- LoadBalancer
    ServiceType &lt;|-- ExternalIP
    ServiceType &lt;|-- ExternalName
    Cluster &#34;1&#34; --&gt; &#34;1..*&#34; ControlPlane : has
    Cluster &#34;1&#34; --&gt; &#34;1..*&#34; ControlPlaneNode : has
    Cluster &#34;1&#34; --&gt; &#34;1..*&#34; WorkerNode : has
    Cluster &#34;1&#34; --&gt; &#34;1..*&#34; Namespace : patitions
    Namespace &#34;1&#34; --&gt; &#34;0..*&#34; Object : contains
    Object &lt;|-- Node
    Object &lt;|-- Pod
    Object &lt;|-- ReplicaSet
    Object &lt;|-- DaemonSet
    Object &lt;|-- Deployment
    Object &lt;|-- Service
    ControlPlaneNode &#34;1&#34; --&gt; &#34;*&#34; NodeComponent: runs
    %% These are required but not rendering on diagram to save space
    %% ControlPlaneNode &#34;1&#34; --&gt; &#34;1&#34; APIServer : runs
    %% ControlPlaneNode &#34;1&#34; --&gt; &#34;1&#34; Scheduler : runs
    %% ControlPlaneNode &#34;1&#34; --&gt; &#34;1&#34; ControllerManager : runs
    %% ControlPlaneNode &#34;1&#34; --&gt; &#34;1&#34; KeyValueStore : runs
    NodeComponent &lt;|-- APIServer
    NodeComponent &lt;|-- Scheduler
    NodeComponent &lt;|-- ControllerManager
    NodeComponent &lt;|-- KeyValueStore
    NodeComponent &lt;|-- ContainerRuntime
    NodeComponent &lt;|-- AddOn
    ControlPlaneNode --&gt; &#34;0..*&#34; NodeAgent: runs
    %% ControlPlaneNode &#34;1&#34; --&gt; &#34;0..1&#34; ContainerRuntime : runs
    %% ControlPlaneNode &#34;1&#34; --&gt; &#34;0..1&#34; Kubelet : runs
    %% ControlPlaneNode &#34;1&#34; --&gt; &#34;0..1&#34; KubeProxy : runs
    %% ControlPlaneNode &#34;1&#34; --&gt; &#34;0..*&#34; AddOn : runs
    NodeAgent &lt;|-- Kubelet
    NodeAgent &lt;|-- KubeProxy
    
    WorkerNode --&gt; &#34;0..*&#34; NodeAgent: runs
    WorkerNode --&gt; &#34;0..1&#34; NodeComponent: runs
    %% WorkerNode &#34;1&#34; --&gt; &#34;0..1&#34; ContainerRuntime : runs
    %% WorkerNode &#34;1&#34; --&gt; &#34;0..1&#34; Kubelet : runs
    %% WorkerNode &#34;1&#34; --&gt; &#34;0..1&#34; KubeProxy : runs
    %% WorkerNode &#34;1&#34; --&gt; &#34;0..*&#34; AddOn : runs
    %% WorkerNode &#34;1&#34; --&gt; &#34;0..*&#34; Pod : runs
    Pod &#34;1&#34; --&gt; &#34;1..*&#34; Container : has
    ContainerRuntime &#34;1&#34; --&gt; &#34;0..*&#34; Container : handles_and_runs
    Kubelet &#34;1&#34; --&gt; &#34;0..*&#34; Pod : monitors
    Pod &#34;1&#34; --&gt; &#34;0..*&#34; Label : has
    ReplicaSet &#34;0..1&#34; --&gt; &#34;1..*&#34; Pod : controls
    ReplicaSet &#34;0..1&#34; --&gt; &#34;0..1&#34; AutoScaler : has
    AutoScaler &#34;0..1&#34; --&gt; &#34;1..*&#34; Pod : scales
    Deployment &#34;0..1&#34; --&gt; &#34;1&#34; ReplicaSet : manages
    Deployment &#34;1&#34; --&gt; &#34;1..*&#34; RollingUpdate : rollouts
    Deployment &#34;1&#34; --&gt; &#34;0..*&#34; RollingUpdate : rollbacks
    DaemonSet &#34;0..1&#34; --&gt; &#34;0..*&#34; NodeAgent : manages
    Service &#34;0..1&#34; --&gt; &#34;1&#34; Pod : exposes
    Service &#34;0..1&#34; --&gt; &#34;1&#34; ReplicaSet : exposes
    Service &#34;0..1&#34; --&gt; &#34;1&#34; Deployment : exposes

	class Cluster:::Pine
	class Cluster:::Aqua
	class Namespace:::Rose
	class Pod:::Rose
	class Container:::Rose
	class ReplicaSet:::Rose
	class Deployment:::Rose
	class Port:::Rose
	class Service:::Rose

	classDef Rose :, stroke-width:1px, stroke-dasharray:none, stroke:#FF5978, fill:#FFDFE5, color:#8E2236
	classDef Pine :, stroke-width:1px, stroke-dasharray:none, stroke:#254336, fill:#27654A, color:#FFFFFF
	classDef Aqua :,stroke-width:1px, stroke-dasharray:none, stroke:#46EDC8, fill:#DEFFF8, color:#378E7A

</pre>

<div class="notice note">
  <div class="notice-title">
    <i class="fa-solid fa-sticky-note" aria-hidden="true"></i>Source code of digram
  </div>
  <div class="notice-content"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">---</span>
</span></span><span class="line"><span class="cl"><span class="n">config</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="k">class</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">hideEmptyMembersBox</span><span class="p">:</span> <span class="bp">true</span>
</span></span><span class="line"><span class="cl">  <span class="n">layout</span><span class="p">:</span> <span class="n">elk</span>
</span></span><span class="line"><span class="cl">  <span class="n">theme</span><span class="p">:</span> <span class="n">forest</span>
</span></span><span class="line"><span class="cl"><span class="o">---</span>
</span></span><span class="line"><span class="cl"><span class="n">classDiagram</span>
</span></span><span class="line"><span class="cl"><span class="n">direction</span> <span class="n">LR</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">Cluster</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">ControlPlane</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">ControlPlaneNode</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="ne">Node</span> <span class="o">&lt;|--</span> <span class="n">ControlPlaneNode</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">WorkerNode</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="ne">Node</span> <span class="o">&lt;|--</span> <span class="n">WorkerNode</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">APIServer</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">Scheduler</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">ControllerManager</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">KeyValueStore</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">NodeComponent</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">ContainerRuntime</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">Kubelet</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">KubeProxy</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">AddOn</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">Logging</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">Monitoring</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">NodeAgent</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">Namespace</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">Pod</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="n">template</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="ne">Container</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
</span></span><span class="line"><span class="cl">	    <span class="n">image</span><span class="p">:</span> <span class="nb">str</span>
</span></span><span class="line"><span class="cl">	    <span class="n">port</span><span class="p">:</span> <span class="n">number</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="ne">Label</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="n">key</span>
</span></span><span class="line"><span class="cl">	    <span class="n">value</span><span class="err">?</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">ReplicaSet</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="n">replicas</span><span class="p">:</span> <span class="n">number</span>
</span></span><span class="line"><span class="cl">	    <span class="n">template</span><span class="p">:</span> <span class="n">pod</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">Deployment</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="n">replicas</span><span class="p">:</span> <span class="n">number</span>
</span></span><span class="line"><span class="cl">	    <span class="n">template</span><span class="p">:</span> <span class="n">pod</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">Port</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="n">port</span><span class="p">:</span> <span class="n">number</span>
</span></span><span class="line"><span class="cl">	    <span class="n">targetPort</span><span class="p">:</span> <span class="n">number</span>
</span></span><span class="line"><span class="cl">	    <span class="n">protocol</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">TCP</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">AutoScaler</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">RollingUpdate</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">DaemonSet</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">Service</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
</span></span><span class="line"><span class="cl">	    <span class="n">selector</span><span class="p">:</span> <span class="ne">Label</span><span class="p">[]</span>
</span></span><span class="line"><span class="cl">	    <span class="n">ports</span><span class="p">:</span> <span class="n">Port</span><span class="p">[]</span>
</span></span><span class="line"><span class="cl">	    <span class="n">type</span><span class="p">:</span> <span class="n">ServiceType</span> <span class="o">=</span> <span class="n">ClusterIP</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">ServiceType</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">ClusterIP</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">NodePort</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">LoadBalancer</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">ExternalIP</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="n">ExternalName</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="ne">Object</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">class</span> <span class="ne">Node</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="o">&lt;&lt;</span><span class="n">interface</span><span class="o">&gt;&gt;</span> <span class="n">NodeComponent</span>
</span></span><span class="line"><span class="cl">	<span class="o">&lt;&lt;</span><span class="n">interface</span><span class="o">&gt;&gt;</span> <span class="n">ServiceType</span>
</span></span><span class="line"><span class="cl">	<span class="o">&lt;&lt;</span><span class="n">interface</span><span class="o">&gt;&gt;</span> <span class="ne">Object</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">note</span> <span class="k">for</span> <span class="n">ContainerRuntime</span> <span class="s2">&#34;eg: Dockerengine, containerd&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">note</span> <span class="k">for</span> <span class="n">KeyValueStore</span> <span class="s2">&#34;etcd, can run on node or external etcd cluster&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">note</span> <span class="k">for</span> <span class="n">Service</span> <span class="s2">&#34;ports referred to as service endpoints&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">note</span> <span class="k">for</span> <span class="n">ClusterIP</span> <span class="s2">&#34;A Service receives a Virtual IP address&lt;br/&gt; accessible only from within the cluster.&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">note</span> <span class="k">for</span> <span class="n">NodePort</span> <span class="s2">&#34;A Service includes a ClusterIP and a high-port, &lt;br/&gt; dynamically picked from the default range 30000-32767,&lt;br/&gt; is mapped to the respective Service, from all the worker nodes.&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">note</span> <span class="k">for</span> <span class="n">LoadBalancer</span> <span class="s2">&#34;NodePort and ClusterIP are automatically created,&lt;br/&gt; and the external load balancer will route to them&lt;br&gt;The Service is exposed at a static port on each worker node.&lt;br&gt;The Service is exposed externally using the underlying cloud&lt;br&gt;provider&#39;s load balancer feature.&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">note</span> <span class="k">for</span> <span class="n">ExternalIP</span> <span class="s2">&#34;A Service can be mapped to an external IP address not managed by K8s&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">note</span> <span class="k">for</span> <span class="n">ExternalName</span> <span class="s2">&#34;When accessed within the cluster, &lt;br&gt;it returns a CNAME record of &lt;br&gt;an externally configured Service.&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">AddOn</span> <span class="o">&lt;|--</span> <span class="n">Logging</span>
</span></span><span class="line"><span class="cl">    <span class="n">AddOn</span> <span class="o">&lt;|--</span> <span class="n">Monitoring</span>
</span></span><span class="line"><span class="cl">    <span class="n">Service</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;1&#34;</span> <span class="n">ServiceType</span> <span class="p">:</span> <span class="n">is</span>
</span></span><span class="line"><span class="cl">    <span class="n">ServiceType</span> <span class="o">&lt;|--</span> <span class="n">ClusterIP</span>
</span></span><span class="line"><span class="cl">    <span class="n">ServiceType</span> <span class="o">&lt;|--</span> <span class="n">NodePort</span>
</span></span><span class="line"><span class="cl">    <span class="n">ServiceType</span> <span class="o">&lt;|--</span> <span class="n">LoadBalancer</span>
</span></span><span class="line"><span class="cl">    <span class="n">ServiceType</span> <span class="o">&lt;|--</span> <span class="n">ExternalIP</span>
</span></span><span class="line"><span class="cl">    <span class="n">ServiceType</span> <span class="o">&lt;|--</span> <span class="n">ExternalName</span>
</span></span><span class="line"><span class="cl">    <span class="n">Cluster</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;1..*&#34;</span> <span class="n">ControlPlane</span> <span class="p">:</span> <span class="n">has</span>
</span></span><span class="line"><span class="cl">    <span class="n">Cluster</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;1..*&#34;</span> <span class="n">ControlPlaneNode</span> <span class="p">:</span> <span class="n">has</span>
</span></span><span class="line"><span class="cl">    <span class="n">Cluster</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;1..*&#34;</span> <span class="n">WorkerNode</span> <span class="p">:</span> <span class="n">has</span>
</span></span><span class="line"><span class="cl">    <span class="n">Cluster</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;1..*&#34;</span> <span class="n">Namespace</span> <span class="p">:</span> <span class="n">patitions</span>
</span></span><span class="line"><span class="cl">    <span class="n">Namespace</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;0..*&#34;</span> <span class="ne">Object</span> <span class="p">:</span> <span class="n">contains</span>
</span></span><span class="line"><span class="cl">    <span class="ne">Object</span> <span class="o">&lt;|--</span> <span class="ne">Node</span>
</span></span><span class="line"><span class="cl">    <span class="ne">Object</span> <span class="o">&lt;|--</span> <span class="n">Pod</span>
</span></span><span class="line"><span class="cl">    <span class="ne">Object</span> <span class="o">&lt;|--</span> <span class="n">ReplicaSet</span>
</span></span><span class="line"><span class="cl">    <span class="ne">Object</span> <span class="o">&lt;|--</span> <span class="n">DaemonSet</span>
</span></span><span class="line"><span class="cl">    <span class="ne">Object</span> <span class="o">&lt;|--</span> <span class="n">Deployment</span>
</span></span><span class="line"><span class="cl">    <span class="ne">Object</span> <span class="o">&lt;|--</span> <span class="n">Service</span>
</span></span><span class="line"><span class="cl">    <span class="n">ControlPlaneNode</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;*&#34;</span> <span class="n">NodeComponent</span><span class="p">:</span> <span class="n">runs</span>
</span></span><span class="line"><span class="cl">    <span class="o">%%</span> <span class="n">These</span> <span class="n">are</span> <span class="n">required</span> <span class="n">but</span> <span class="ow">not</span> <span class="n">rendering</span> <span class="n">on</span> <span class="n">diagram</span> <span class="n">to</span> <span class="n">save</span> <span class="n">space</span>
</span></span><span class="line"><span class="cl">    <span class="o">%%</span> <span class="n">ControlPlaneNode</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;1&#34;</span> <span class="n">APIServer</span> <span class="p">:</span> <span class="n">runs</span>
</span></span><span class="line"><span class="cl">    <span class="o">%%</span> <span class="n">ControlPlaneNode</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;1&#34;</span> <span class="n">Scheduler</span> <span class="p">:</span> <span class="n">runs</span>
</span></span><span class="line"><span class="cl">    <span class="o">%%</span> <span class="n">ControlPlaneNode</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;1&#34;</span> <span class="n">ControllerManager</span> <span class="p">:</span> <span class="n">runs</span>
</span></span><span class="line"><span class="cl">    <span class="o">%%</span> <span class="n">ControlPlaneNode</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;1&#34;</span> <span class="n">KeyValueStore</span> <span class="p">:</span> <span class="n">runs</span>
</span></span><span class="line"><span class="cl">    <span class="n">NodeComponent</span> <span class="o">&lt;|--</span> <span class="n">APIServer</span>
</span></span><span class="line"><span class="cl">    <span class="n">NodeComponent</span> <span class="o">&lt;|--</span> <span class="n">Scheduler</span>
</span></span><span class="line"><span class="cl">    <span class="n">NodeComponent</span> <span class="o">&lt;|--</span> <span class="n">ControllerManager</span>
</span></span><span class="line"><span class="cl">    <span class="n">NodeComponent</span> <span class="o">&lt;|--</span> <span class="n">KeyValueStore</span>
</span></span><span class="line"><span class="cl">    <span class="n">NodeComponent</span> <span class="o">&lt;|--</span> <span class="n">ContainerRuntime</span>
</span></span><span class="line"><span class="cl">    <span class="n">NodeComponent</span> <span class="o">&lt;|--</span> <span class="n">AddOn</span>
</span></span><span class="line"><span class="cl">    <span class="n">ControlPlaneNode</span> <span class="o">--&gt;</span> <span class="s2">&#34;0..*&#34;</span> <span class="n">NodeAgent</span><span class="p">:</span> <span class="n">runs</span>
</span></span><span class="line"><span class="cl">    <span class="o">%%</span> <span class="n">ControlPlaneNode</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;0..1&#34;</span> <span class="n">ContainerRuntime</span> <span class="p">:</span> <span class="n">runs</span>
</span></span><span class="line"><span class="cl">    <span class="o">%%</span> <span class="n">ControlPlaneNode</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;0..1&#34;</span> <span class="n">Kubelet</span> <span class="p">:</span> <span class="n">runs</span>
</span></span><span class="line"><span class="cl">    <span class="o">%%</span> <span class="n">ControlPlaneNode</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;0..1&#34;</span> <span class="n">KubeProxy</span> <span class="p">:</span> <span class="n">runs</span>
</span></span><span class="line"><span class="cl">    <span class="o">%%</span> <span class="n">ControlPlaneNode</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;0..*&#34;</span> <span class="n">AddOn</span> <span class="p">:</span> <span class="n">runs</span>
</span></span><span class="line"><span class="cl">    <span class="n">NodeAgent</span> <span class="o">&lt;|--</span> <span class="n">Kubelet</span>
</span></span><span class="line"><span class="cl">    <span class="n">NodeAgent</span> <span class="o">&lt;|--</span> <span class="n">KubeProxy</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="n">WorkerNode</span> <span class="o">--&gt;</span> <span class="s2">&#34;0..*&#34;</span> <span class="n">NodeAgent</span><span class="p">:</span> <span class="n">runs</span>
</span></span><span class="line"><span class="cl">    <span class="n">WorkerNode</span> <span class="o">--&gt;</span> <span class="s2">&#34;0..1&#34;</span> <span class="n">NodeComponent</span><span class="p">:</span> <span class="n">runs</span>
</span></span><span class="line"><span class="cl">    <span class="o">%%</span> <span class="n">WorkerNode</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;0..1&#34;</span> <span class="n">ContainerRuntime</span> <span class="p">:</span> <span class="n">runs</span>
</span></span><span class="line"><span class="cl">    <span class="o">%%</span> <span class="n">WorkerNode</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;0..1&#34;</span> <span class="n">Kubelet</span> <span class="p">:</span> <span class="n">runs</span>
</span></span><span class="line"><span class="cl">    <span class="o">%%</span> <span class="n">WorkerNode</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;0..1&#34;</span> <span class="n">KubeProxy</span> <span class="p">:</span> <span class="n">runs</span>
</span></span><span class="line"><span class="cl">    <span class="o">%%</span> <span class="n">WorkerNode</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;0..*&#34;</span> <span class="n">AddOn</span> <span class="p">:</span> <span class="n">runs</span>
</span></span><span class="line"><span class="cl">    <span class="o">%%</span> <span class="n">WorkerNode</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;0..*&#34;</span> <span class="n">Pod</span> <span class="p">:</span> <span class="n">runs</span>
</span></span><span class="line"><span class="cl">    <span class="n">Pod</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;1..*&#34;</span> <span class="ne">Container</span> <span class="p">:</span> <span class="n">has</span>
</span></span><span class="line"><span class="cl">    <span class="n">ContainerRuntime</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;0..*&#34;</span> <span class="ne">Container</span> <span class="p">:</span> <span class="n">handles_and_runs</span>
</span></span><span class="line"><span class="cl">    <span class="n">Kubelet</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;0..*&#34;</span> <span class="n">Pod</span> <span class="p">:</span> <span class="n">monitors</span>
</span></span><span class="line"><span class="cl">    <span class="n">Pod</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;0..*&#34;</span> <span class="ne">Label</span> <span class="p">:</span> <span class="n">has</span>
</span></span><span class="line"><span class="cl">    <span class="n">ReplicaSet</span> <span class="s2">&#34;0..1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;1..*&#34;</span> <span class="n">Pod</span> <span class="p">:</span> <span class="n">controls</span>
</span></span><span class="line"><span class="cl">    <span class="n">ReplicaSet</span> <span class="s2">&#34;0..1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;0..1&#34;</span> <span class="n">AutoScaler</span> <span class="p">:</span> <span class="n">has</span>
</span></span><span class="line"><span class="cl">    <span class="n">AutoScaler</span> <span class="s2">&#34;0..1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;1..*&#34;</span> <span class="n">Pod</span> <span class="p">:</span> <span class="n">scales</span>
</span></span><span class="line"><span class="cl">    <span class="n">Deployment</span> <span class="s2">&#34;0..1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;1&#34;</span> <span class="n">ReplicaSet</span> <span class="p">:</span> <span class="n">manages</span>
</span></span><span class="line"><span class="cl">    <span class="n">Deployment</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;1..*&#34;</span> <span class="n">RollingUpdate</span> <span class="p">:</span> <span class="n">rollouts</span>
</span></span><span class="line"><span class="cl">    <span class="n">Deployment</span> <span class="s2">&#34;1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;0..*&#34;</span> <span class="n">RollingUpdate</span> <span class="p">:</span> <span class="n">rollbacks</span>
</span></span><span class="line"><span class="cl">    <span class="n">DaemonSet</span> <span class="s2">&#34;0..1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;0..*&#34;</span> <span class="n">NodeAgent</span> <span class="p">:</span> <span class="n">manages</span>
</span></span><span class="line"><span class="cl">    <span class="n">Service</span> <span class="s2">&#34;0..1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;1&#34;</span> <span class="n">Pod</span> <span class="p">:</span> <span class="n">exposes</span>
</span></span><span class="line"><span class="cl">    <span class="n">Service</span> <span class="s2">&#34;0..1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;1&#34;</span> <span class="n">ReplicaSet</span> <span class="p">:</span> <span class="n">exposes</span>
</span></span><span class="line"><span class="cl">    <span class="n">Service</span> <span class="s2">&#34;0..1&#34;</span> <span class="o">--&gt;</span> <span class="s2">&#34;1&#34;</span> <span class="n">Deployment</span> <span class="p">:</span> <span class="n">exposes</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">class</span> <span class="n">Cluster</span><span class="p">:::</span><span class="n">Pine</span>
</span></span><span class="line"><span class="cl">	<span class="k">class</span> <span class="n">Cluster</span><span class="p">:::</span><span class="n">Aqua</span>
</span></span><span class="line"><span class="cl">	<span class="k">class</span> <span class="n">Namespace</span><span class="p">:::</span><span class="n">Rose</span>
</span></span><span class="line"><span class="cl">	<span class="k">class</span> <span class="n">Pod</span><span class="p">:::</span><span class="n">Rose</span>
</span></span><span class="line"><span class="cl">	<span class="k">class</span> <span class="ne">Container</span><span class="p">:::</span><span class="n">Rose</span>
</span></span><span class="line"><span class="cl">	<span class="k">class</span> <span class="n">ReplicaSet</span><span class="p">:::</span><span class="n">Rose</span>
</span></span><span class="line"><span class="cl">	<span class="k">class</span> <span class="n">Deployment</span><span class="p">:::</span><span class="n">Rose</span>
</span></span><span class="line"><span class="cl">	<span class="k">class</span> <span class="n">Port</span><span class="p">:::</span><span class="n">Rose</span>
</span></span><span class="line"><span class="cl">	<span class="k">class</span> <span class="n">Service</span><span class="p">:::</span><span class="n">Rose</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">classDef</span> <span class="n">Rose</span> <span class="p">:,</span> <span class="n">stroke</span><span class="o">-</span><span class="n">width</span><span class="p">:</span><span class="mi">1</span><span class="n">px</span><span class="p">,</span> <span class="n">stroke</span><span class="o">-</span><span class="n">dasharray</span><span class="p">:</span><span class="n">none</span><span class="p">,</span> <span class="n">stroke</span><span class="p">:</span><span class="c1">#FF5978, fill:#FFDFE5, color:#8E2236</span>
</span></span><span class="line"><span class="cl">	<span class="n">classDef</span> <span class="n">Pine</span> <span class="p">:,</span> <span class="n">stroke</span><span class="o">-</span><span class="n">width</span><span class="p">:</span><span class="mi">1</span><span class="n">px</span><span class="p">,</span> <span class="n">stroke</span><span class="o">-</span><span class="n">dasharray</span><span class="p">:</span><span class="n">none</span><span class="p">,</span> <span class="n">stroke</span><span class="p">:</span><span class="c1">#254336, fill:#27654A, color:#FFFFFF</span>
</span></span><span class="line"><span class="cl">	<span class="n">classDef</span> <span class="n">Aqua</span> <span class="p">:,</span><span class="n">stroke</span><span class="o">-</span><span class="n">width</span><span class="p">:</span><span class="mi">1</span><span class="n">px</span><span class="p">,</span> <span class="n">stroke</span><span class="o">-</span><span class="n">dasharray</span><span class="p">:</span><span class="n">none</span><span class="p">,</span> <span class="n">stroke</span><span class="p">:</span><span class="c1">#46EDC8, fill:#DEFFF8, color:#378E7A</span>
</span></span></code></pre></div></div>
</div>


    </div>

    <footer>
      


      
      
      
      
      
    </footer>
  </article>

  
</section>

    </div>

    <footer class="footer">
  
  <section class="container">
    ¬©
    
    2021 -
    
    2025
     Sy Tran 
    ¬∑
    
    Powered by <a href="https://gohugo.io/">Hugo</a> & <a
      href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
  </section>
</footer>

  </main>

  
  <script src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"
     crossorigin="anonymous"></script>
  <script>
    mermaid.initialize({ startOnLoad: true });
  </script>
  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>
</html>
