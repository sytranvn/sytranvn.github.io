<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>cpp on Sy Tran's blog</title><link>http://sytranvn.dev/tags/cpp/</link><description>Recent content in cpp on Sy Tran's blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Thu, 14 Oct 2021 00:00:00 +0000</lastBuildDate><atom:link href="http://sytranvn.dev/tags/cpp/index.xml" rel="self" type="application/rss+xml"/><item><title>Allocation</title><link>http://sytranvn.dev/posts/allocation/</link><pubDate>Thu, 14 Oct 2021 00:00:00 +0000</pubDate><guid>http://sytranvn.dev/posts/allocation/</guid><description>Allocation in V8 V8 allocate C free store using malloc and free.
void* Malloced::New(size_t size) { ASSERT(NativeAllocationChecker::allocation_allowed()); void* result = malloc(size); if (result == NULL) V8::FatalProcessOutOfMemory(&amp;#34;Malloced operator new&amp;#34;); return result; } void Malloced::Delete(void* p) { free(p); } Besides of that, V8 defined a PreallocatedStorage (double linked list) to manage allocated memorry. Link chunks
Unlink
When we need to allocate some memorry, first V8 will find available memorry chunk in free_list_ that fit before call Malloced::New() to allocate new memorry.</description></item><item><title>Token</title><link>http://sytranvn.dev/posts/token/</link><pubDate>Wed, 06 Oct 2021 00:00:00 +0000</pubDate><guid>http://sytranvn.dev/posts/token/</guid><description>Token All tokens are defined by a macro TOKEN_LIST. It takes a list of 3 macros M all of which satisfy the same signature M(name, string, precedence), where name is the symbolic token name, string is the corresponding syntactic symbol (or NULL, for literals), and precedence is the precedence (or 0). The parameters are invoked for token categories as follows:
T: Non-keyword tokens K: Keyword tokens F: Future (reserved) keyword tokens // token.</description></item><item><title>Build v8 from source on Ubuntu 20.04</title><link>http://sytranvn.dev/posts/build-v8-from-source/</link><pubDate>Sat, 20 Feb 2021 00:00:00 +0000</pubDate><guid>http://sytranvn.dev/posts/build-v8-from-source/</guid><description>Have you ever asked what does V8 do? Here&amp;rsquo;s how to build a V8 of your own from source code. See what it can do and even have fun with it.
Required bash shell git I set up the V8 source code inside ~/Code/ folder and use it throughout this article. You can change it to your desired folder.
Prepare the tools and source code We need to get the depot tools bundle from google.</description></item><item><title>Tricks</title><link>http://sytranvn.dev/posts/misc/</link><pubDate>Thu, 28 Jan 2021 00:00:00 +0000</pubDate><guid>http://sytranvn.dev/posts/misc/</guid><description>Some tricks I found when dealing with V8 giant code base
Macros, macros every where Having problem understanding v8 macros? Add this where ever you want static const int IAmHere = 1; And run g++ -g -Wall -I. -Iinclude -I... header.h -E -D DEBUG &amp;gt; header.h.o Search for IAmHere in header.h.o file generated Have fun To be continued The do while (false) macro #define ASSEMBLE_BINOP(asm_instr) \ do { \ if (HasAddressingMode(instr)) { \ size_t index = 1; \ Operand right = i.</description></item></channel></rss>